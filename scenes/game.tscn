[gd_scene load_steps=11 format=3 uid="uid://c7hx085d3my3g"]

[ext_resource type="Script" uid="uid://decxidnrg6wt2" path="res://scripts/game.gd" id="1_u5sy4"]
[ext_resource type="Texture2D" uid="uid://bc17l4opfv77q" path="res://assets/game-bg/moon_sky.png" id="1_uwrxv"]
[ext_resource type="PackedScene" uid="uid://c8lhimkedr6pn" path="res://scenes/player.tscn" id="2_gee14"]
[ext_resource type="Texture2D" uid="uid://duj4ow0abaplj" path="res://assets/game-bg/moon_earth.png" id="2_yqjtg"]
[ext_resource type="Texture2D" uid="uid://f80u4c5myc6g" path="res://assets/game-bg/moon_back.png" id="3_lnu2h"]
[ext_resource type="Texture2D" uid="uid://dpengsylmmv3u" path="res://assets/game-bg/moon_mid.png" id="4_lbhrr"]
[ext_resource type="Texture2D" uid="uid://dxci2ckfqp2yr" path="res://assets/game-bg/moon_front.png" id="5_iywne"]
[ext_resource type="Texture2D" uid="uid://daqskdqetu3jm" path="res://assets/game-bg/moon_floor.png" id="6_p57ef"]
[ext_resource type="Script" uid="uid://qpijsveyphtf" path="res://scripts/components/scoreboard_component.gd" id="9_0tnpc"]
[ext_resource type="Script" uid="uid://7yfl0tpsj6gr" path="res://scripts/components/pickups/pickup_spawn_manager.gd" id="10_vtaks"]

[node name="Game" type="Node2D"]
script = ExtResource("1_u5sy4")
player_scene = ExtResource("2_gee14")

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://c8lhimkedr6pn")
spawn_path = NodePath("../SpawnPath")

[node name="World" type="Node2D" parent="."]

[node name="Backgrounds" type="Node2D" parent="World"]

[node name="Sky" type="Parallax2D" parent="World/Backgrounds"]
repeat_size = Vector2(2050, 0)
autoscroll = Vector2(1, 0)

[node name="Sprite2D" type="Sprite2D" parent="World/Backgrounds/Sky"]
position = Vector2(-20, -28)
scale = Vector2(1.07895, 1.123)
texture = ExtResource("1_uwrxv")
centered = false

[node name="Earth" type="Parallax2D" parent="World/Backgrounds"]
repeat_size = Vector2(6555, 0)
autoscroll = Vector2(-5, 0)

[node name="Sprite2D" type="Sprite2D" parent="World/Backgrounds/Earth"]
position = Vector2(-225, 2)
scale = Vector2(1.725, 1.725)
texture = ExtResource("2_yqjtg")
centered = false

[node name="Mountains" type="Parallax2D" parent="World/Backgrounds"]
repeat_size = Vector2(3800, 0)
autoscroll = Vector2(10, 0)

[node name="Sprite2D" type="Sprite2D" parent="World/Backgrounds/Mountains"]
position = Vector2(-4, -7)
texture = ExtResource("3_lnu2h")
centered = false

[node name="Floor" type="Parallax2D" parent="World/Backgrounds"]
repeat_size = Vector2(3800, 0)
autoscroll = Vector2(60, 0)

[node name="Sprite2D" type="Sprite2D" parent="World/Backgrounds/Floor"]
position = Vector2(-13, 130)
texture = ExtResource("4_lbhrr")
centered = false

[node name="Hills" type="Parallax2D" parent="World/Backgrounds"]
repeat_size = Vector2(3800, 0)
autoscroll = Vector2(350, 0)

[node name="Sprite2D" type="Sprite2D" parent="World/Backgrounds/Hills"]
position = Vector2(-29, 187)
texture = ExtResource("5_iywne")
centered = false

[node name="Rocks" type="Parallax2D" parent="World/Backgrounds"]
repeat_size = Vector2(1900, 0)
autoscroll = Vector2(800, 0)

[node name="Sprite2D" type="Sprite2D" parent="World/Backgrounds/Rocks"]
position = Vector2(-294, 87)
texture = ExtResource("6_p57ef")
centered = false

[node name="GameMenu" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Panel" type="Panel" parent="GameMenu"]
layout_mode = 0
offset_left = 900.0
offset_top = 30.0
offset_right = 940.0
offset_bottom = 70.0

[node name="HBoxContainer" type="HBoxContainer" parent="GameMenu/Panel"]
layout_mode = 0
offset_right = 271.0
offset_bottom = 31.0

[node name="MainMenu" type="Button" parent="GameMenu/Panel/HBoxContainer"]
layout_mode = 2
text = "Main Menu"

[node name="Player1Score" type="Label" parent="GameMenu/Panel"]
layout_mode = 0
offset_left = -847.0
offset_top = -11.0
offset_right = -657.0
offset_bottom = 39.0
theme_override_font_sizes/font_size = 36
text = "Player One"
horizontal_alignment = 1

[node name="Player2Score" type="Label" parent="GameMenu/Panel"]
layout_mode = 0
offset_left = 788.0
offset_top = -11.0
offset_right = 978.0
offset_bottom = 39.0
theme_override_font_sizes/font_size = 36
text = "Player Two"
horizontal_alignment = 1

[node name="PlayAgain" type="Button" parent="GameMenu/Panel"]
visible = false
layout_mode = 0
offset_left = -142.0
offset_top = 317.0
offset_right = 245.0
offset_bottom = 424.0
theme_override_font_sizes/font_size = 72
text = "Play Again!"

[node name="SpawnPath" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="ScoreboardComponent" type="Node" parent="." node_paths=PackedStringArray("player1_score", "player2_score", "play_again_button")]
script = ExtResource("9_0tnpc")
player1_score = NodePath("../GameMenu/Panel/Player1Score")
player2_score = NodePath("../GameMenu/Panel/Player2Score")
play_again_button = NodePath("../GameMenu/Panel/PlayAgain")
metadata/_custom_type_script = "uid://qpijsveyphtf"

[node name="Pickups" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="PickupSpawnManager" type="Node" parent="."]
script = ExtResource("10_vtaks")

[node name="PickupSpawner" type="MultiplayerSpawner" parent="PickupSpawnManager"]
_spawnable_scenes = PackedStringArray("uid://cdt0a6va201af", "uid://ydkf6xk0dskx", "uid://d2ap61tnvx0b0")
spawn_path = NodePath("../../Pickups")

[connection signal="pressed" from="GameMenu/Panel/HBoxContainer/MainMenu" to="." method="_on_main_menu_pressed"]
